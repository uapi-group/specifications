<!doctype html><html lang=en dir=ltr><head><meta name=generator content="Hugo 0.104.3"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Base Directory Specification # Introduction # Various specifications specify files and file formats. This specification defines where these files should be looked for by defining one or more base directories relative to which files should be located.
Basics # The XDG Base Directory Specification is based on the following concepts:
There is a single base directory relative to which user-specific data files should be written. This directory is defined by the environment variable $XDG_DATA_HOME."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Base Directory Specification"><meta property="og:description" content="Base Directory Specification # Introduction # Various specifications specify files and file formats. This specification defines where these files should be looked for by defining one or more base directories relative to which files should be located.
Basics # The XDG Base Directory Specification is based on the following concepts:
There is a single base directory relative to which user-specific data files should be written. This directory is defined by the environment variable $XDG_DATA_HOME."><meta property="og:type" content="article"><meta property="og:url" content="https://uapi-group.org/specifications/specs/base_directory_specification/"><meta property="article:section" content="specs"><title>Base Directory Specification | UAPI Group Specifications</title><link rel=manifest href=/specifications/manifest.json><link rel=icon href=/specifications/favicon.png type=image/x-icon><link rel=stylesheet href=/specifications/book.min.f716a89e40b01f033146ee402497165ac5bcf8935948094dceafbcb19f6f3c8d.css integrity="sha256-9xaonkCwHwMxRu5AJJcWWsW8+JNZSAlNzq+8sZ9vPI0="><script defer src=/specifications/en.search.min.e1b74e4ac78b935ee5997614e2316b756d352059b9cba20b2bf2ddab980bd6d1.js integrity="sha256-4bdOSseLk17lmXYU4jFrdW01IFm5y6ILK/Ldq5gL1tE="></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a href=/specifications><span>UAPI Group Specifications</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://uapi-group.org/>⬅️ Back to top</a></li><li>⸻</li></ul><ul><li><span>Specs</span><ul><li><a href=https://uapi-group.org/specifications/specs/base_directory_specification/ class=active>Base Directory Specification</a></li><li><a href=https://uapi-group.org/specifications/specs/boot_loader_specification/>Boot Loader Specification</a></li><li><a href=https://uapi-group.org/specifications/specs/discoverable_disk_image/>Discoverable Disk Image</a></li><li><a href=https://uapi-group.org/specifications/specs/discoverable_partitions_specification/>Discoverable Partitions Specification</a></li><li><a href=https://uapi-group.org/specifications/specs/linux_tpm_pcr_registry/>Linux TPM PCR Registry</a></li><li><a href=https://uapi-group.org/specifications/specs/sysext/>Sysext - System Extension</a></li><li><a href=https://uapi-group.org/specifications/specs/unified_kernel_image/>Unified Kernel Image</a></li></ul></li><li><a href=https://uapi-group.org/specifications/readme/>UAPI Group Specifications</a></li></ul><ul><li>⸻</li><li><a href=https://github.com/uapi-group/specifications target=_blank rel=noopener>Collaborate on Github</a></li></ul></nav><script>(function(){var e=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/specifications/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Base Directory Specification</strong>
<label for=toc-control><img src=/specifications/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#basics>Basics</a></li><li><a href=#variables>Environment variables</a></li><li><a href=#referencing>Referencing this specification</a></li></ul></nav></aside></header><article class=markdown><h1 id=base-directory-specification>Base Directory Specification
<a class=anchor href=#base-directory-specification>#</a></h1><h2 id=introduction>Introduction
<a class=anchor href=#introduction>#</a></h2><p>Various specifications specify files and file formats. This
specification defines where these files should be looked for by defining
one or more base directories relative to which files should be located.</p><h2 id=basics>Basics
<a class=anchor href=#basics>#</a></h2><p>The XDG Base Directory Specification is based on the following concepts:</p><ul><li><p>There is a single base directory relative to which user-specific
data files should be written. This directory is defined by the
environment variable <code>$XDG_DATA_HOME</code>.</p></li><li><p>There is a single base directory relative to which user-specific
configuration files should be written. This directory is defined by
the environment variable <code>$XDG_CONFIG_HOME</code>.</p></li><li><p>There is a single base directory relative to which user-specific
state data should be written. This directory is defined by the
environment variable <code>$XDG_STATE_HOME</code>.</p></li><li><p>There is a single base directory relative to which user-specific
executable files may be written.</p></li><li><p>There is a set of preference ordered base directories relative to
which data files should be searched. This set of directories is
defined by the environment variable <code>$XDG_DATA_DIRS</code>.</p></li><li><p>There is a set of preference ordered base directories relative to
which configuration files should be searched. This set of
directories is defined by the environment variable
<code>$XDG_CONFIG_DIRS</code>.</p></li><li><p>There is a single base directory relative to which user-specific
non-essential (cached) data should be written. This directory is
defined by the environment variable <code>$XDG_CACHE_HOME</code>.</p></li><li><p>There is a single base directory relative to which user-specific
runtime files and other file objects should be placed. This
directory is defined by the environment variable <code>$XDG_RUNTIME_DIR</code>.</p></li></ul><p>All paths set in these environment variables must be absolute. If an
implementation encounters a relative path in any of these variables it
should consider the path invalid and ignore it.</p><p>All configuration paths must support drop-ins. Supporting drop-ins means
that in addition to parsing <code>$XDG_CONFIG_DIRS/foo/bar</code>, an implementation
also must parse all files in <code>$XDG_CONFIG_DIRS/foo/bar.d/</code>, and merge the
result in lexicographic order.
<a href=https://github.com/openSUSE/libeconf>libeconf</a> supports drop-ins and
can be used by any program to load its configuration following this
specification.
In addition, it must be possible to mask files across different locations
in <code>$XDG_CONFIG_DIRS</code> by creating a symlink to <code>/dev/null</code> or an empty
file. For example, an empty <code>/etc/foo</code> means that <code>/usr/etc/foo</code> is
masked and thus not parsed.</p><h2 id=variables>Environment variables
<a class=anchor href=#variables>#</a></h2><p><code>$XDG_DATA_HOME</code> defines the base directory relative to which
user-specific data files should be stored. If <code>$XDG_DATA_HOME</code> is either
not set or empty, a default equal to <code>$HOME/.local/share</code> should be
used.</p><p><code>$XDG_CONFIG_HOME</code> defines the base directory relative to which
user-specific configuration files should be stored. If
<code>$XDG_CONFIG_HOME</code> is either not set or empty, a default equal to
<code>$HOME/.config</code> should be used.</p><p><code>$XDG_STATE_HOME</code> defines the base directory relative to which
user-specific state files should be stored. If <code>$XDG_STATE_HOME</code> is
either not set or empty, a default equal to <code>$HOME/.local/state</code> should
be used.</p><p>The <code>$XDG_STATE_HOME</code> contains state data that should persist between
(application) restarts, but that is not important or portable enough to
the user that it should be stored in <code>$XDG_DATA_HOME</code>. It may contain:</p><ul><li><p>actions history (logs, history, recently used files, &mldr;)</p></li><li><p>current state of the application that can be reused on a restart
(view, layout, open files, undo history, &mldr;)</p></li></ul><p>User-specific executable files may be stored in <code>$HOME/.local/bin</code>.
Distributions should ensure this directory shows up in the UNIX <code>$PATH</code>
environment variable, at an appropriate place.</p><p>Since <code>$HOME</code> might be shared between systems of different achitectures,
installing compiled binaries to <code>$HOME/.local/bin</code> could cause problems
when used on systems of differing architectures. This is often not a
problem, but the fact that <code>$HOME</code> becomes partially
achitecture-specific if compiled binaries are placed in it should be
kept in mind.</p><p><code>$XDG_DATA_DIRS</code> defines the preference-ordered set of base directories
to search for data files in addition to the <code>$XDG_DATA_HOME</code> base
directory. The directories in <code>$XDG_DATA_DIRS</code> should be seperated with
a colon &lsquo;<code>:</code>&rsquo;.</p><p>If <code>$XDG_DATA_DIRS</code> is either not set or empty, a value equal to
<code>/usr/local/share/:/usr/share/</code> should be used.</p><p><code>$XDG_CONFIG_DIRS</code> defines the preference-ordered set of base
directories to search for configuration files in addition to the
<code>$XDG_CONFIG_HOME</code> base directory. The directories in <code>$XDG_CONFIG_DIRS</code>
should be seperated with a colon &lsquo;<code>:</code>&rsquo;.</p><p>If <code>$XDG_CONFIG_DIRS</code> is either not set or empty, a value equal to
<code>/etc:/usr/etc:/etc/xdg</code> should be used.</p><p>The order of base directories denotes their importance; the first
directory listed is the most important. When the same information is
defined in multiple places the information defined relative to the more
important base directory takes precedent. The base directory defined by
<code>$XDG_DATA_HOME</code> is considered more important than any of the base
directories defined by <code>$XDG_DATA_DIRS</code>. The base directory defined by
<code>$XDG_CONFIG_HOME</code> is considered more important than any of the base
directories defined by <code>$XDG_CONFIG_DIRS</code>.</p><p><code>$XDG_CACHE_HOME</code> defines the base directory relative to which
user-specific non-essential data files should be stored. If
<code>$XDG_CACHE_HOME</code> is either not set or empty, a default equal to
<code>$HOME/.cache</code> should be used.</p><p><code>$XDG_RUNTIME_DIR</code> defines the base directory relative to which
user-specific non-essential runtime files and other file objects (such
as sockets, named pipes, …) be stored. The directory MUST be
owned by the user, and he MUST be the only one having read and write
access to it. Its Unix access mode MUST be 0700.</p><p>The lifetime of the directory MUST be bound to the user being logged in.
It MUST be created when the user first logs in and if the user fully
logs out the directory MUST be removed. If the user logs in more than
once he should get pointed to the same directory, and it is mandatory
that the directory continues to exist from his first login to his last
logout on the system, and not removed in between. Files in the directory
MUST not survive reboot or a full logout/login cycle.</p><p>The directory MUST be on a local file system and not shared with any
other system. The directory MUST by fully-featured by the standards of
the operating system. More specifically, on Unix-like operating systems
AF_UNIX sockets, symbolic links, hard links, proper permissions, file
locking, sparse files, memory mapping, file change notifications, a
reliable hard link count must be supported, and no restrictions on the
file name character set should be imposed. Files in this directory MAY
be subjected to periodic clean-up. To ensure that your files are not
removed, they should have their access time timestamp modified at least
once every 6 hours of monotonic time or the &lsquo;sticky&rsquo; bit should be set
on the file.</p><p>If <code>$XDG_RUNTIME_DIR</code> is not set applications should fall back to a
replacement directory with similar capabilities and print a warning
message. Applications should use this directory for communication and
synchronization purposes and should not place larger files in it, since
it might reside in runtime memory and cannot necessarily be swapped out
to disk.</p><h2 id=referencing>Referencing this specification
<a class=anchor href=#referencing>#</a></h2><p>Other specifications may reference this specification by specifying the
location of a data file as <code>$XDG_DATA_DIRS/subdir/filename</code>. This
implies that:</p><ul><li><p>Such file should be installed to <code>$datadir/subdir/filename</code> with
<code>$datadir</code> defaulting to <code>/usr/share</code>.</p></li><li><p>A user-specific version of the data file may be created in
<code>$XDG_DATA_HOME/subdir/filename</code>, taking into account the default
value for <code>$XDG_DATA_HOME</code> if <code>$XDG_DATA_HOME</code> is not set.</p></li><li><p>Lookups of the data file should search for <code>./subdir/filename</code>
relative to all base directories specified by <code>$XDG_DATA_HOME</code> and
<code>$XDG_DATA_DIRS</code> . If an environment variable is either not set or
empty, its default value as defined by this specification should be
used instead.</p></li></ul><p>Specifications may reference this specification by specifying the
location of a configuration file as <code>$XDG_CONFIG_DIRS/subdir/filename</code>.
This implies that:</p><ul><li><p>Default configuration files should be installed to
<code>$sysconfdir/xdg/subdir/filename</code> with <code>$sysconfdir</code> defaulting to
<code>/etc</code>.</p></li><li><p>A user-specific version of the configuration file may be created in
<code>$XDG_CONFIG_HOME/subdir/filename</code>, taking into account the default
value for <code>$XDG_CONFIG_HOME</code> if <code>$XDG_CONFIG_HOME</code> is not set.</p></li><li><p>Lookups of the configuration file should search for
<code>./subdir/filename</code> relative to all base directories indicated by
<code>$XDG_CONFIG_HOME</code> and <code>$XDG_CONFIG_DIRS</code> . If an environment
variable is either not set or empty, its default value as defined by
this specification should be used instead.</p></li></ul><p>If, when attempting to write a file, the destination directory is
non-existent an attempt should be made to create it with permission
<code>0700</code>. If the destination directory exists already the permissions
should not be changed. The application should be prepared to handle the
case where the file could not be written, either because the directory
was non-existent and could not be created, or for any other reason. In
such case it may choose to present an error message to the user.</p><p>When attempting to read a file, if for any reason a file in a certain
directory is unaccessible, e.g. because the directory is non-existent,
the file is non-existent or the user is not authorized to open the file,
then the processing of the file in that directory should be skipped. If
due to this a required file could not be found at all, the application
may choose to present an error message to the user.</p><p>A specification that refers to <code>$XDG_DATA_DIRS</code> or <code>$XDG_CONFIG_DIRS</code>
should define what the behaviour must be when a file is located under
multiple base directories. It could, for example, define that only the
file under the most important base directory should be used or, as
another example, it could define rules for merging the information from
the different files.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/uapi-group/specifications/edit/main/specs/specs/base_directory_specification.md target=_blank rel=noopener><img src=/specifications/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#basics>Basics</a></li><li><a href=#variables>Environment variables</a></li><li><a href=#referencing>Referencing this specification</a></li></ul></nav></div></aside></main></body></html>
<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="UAPI.10 Version Format Specification# Version Changes 1.0 Initial Release This specification defines the format of version strings and their ordering. Various documents that are part of the uapi-group specification suite, as well as other projects like systemd, rely on this specification to have a sort order for strings that include version components, and use it for various purposes, such as choosing the default boot entry in the Boot Loader Specification.
Version Format# The version string is a sequence of zero or more characters.
"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://uapi-group.org/specifications/specs/version_format_specification/"><meta property="og:site_name" content="UAPI Group Specifications"><meta property="og:title" content="UAPI.10 Version Format Specification"><meta property="og:description" content="UAPI.10 Version Format Specification# Version Changes 1.0 Initial Release This specification defines the format of version strings and their ordering. Various documents that are part of the uapi-group specification suite, as well as other projects like systemd, rely on this specification to have a sort order for strings that include version components, and use it for various purposes, such as choosing the default boot entry in the Boot Loader Specification.
Version Format# The version string is a sequence of zero or more characters."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="specs"><meta itemprop=name content="UAPI.10 Version Format Specification"><meta itemprop=description content="UAPI.10 Version Format Specification# Version Changes 1.0 Initial Release This specification defines the format of version strings and their ordering. Various documents that are part of the uapi-group specification suite, as well as other projects like systemd, rely on this specification to have a sort order for strings that include version components, and use it for various purposes, such as choosing the default boot entry in the Boot Loader Specification.
Version Format# The version string is a sequence of zero or more characters."><meta itemprop=wordCount content="931"><title>UAPI.10 Version Format Specification | UAPI Group Specifications</title><link rel=icon href=/specifications/favicon.png><link rel=manifest href=/specifications/manifest.json><link rel=canonical href=https://uapi-group.org/specifications/specs/version_format_specification/><link rel=stylesheet href=/specifications/book.min.6e0e4905af9f431e4a07d14b16ee4d5d1e90da19ad2b6d9d1d2aa2da9757473d.css integrity="sha256-bg5JBa+fQx5KB9FLFu5NXR6Q2hmtK22dHSqi2pdXRz0=" crossorigin=anonymous><script defer src=/specifications/fuse.min.js></script><script defer src=/specifications/en.search.min.be5215689e749d75b590d2a64f122aa0b6e9bbcae69b23f0189eac61dd217537.js integrity="sha256-vlIVaJ50nXW1kNKmTxIqoLbpu8rmmyPwGJ6sYd0hdTc=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-specs book-layout-default"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/specifications/><span>UAPI Group Specifications</span></a></h2><div class="book-search hidden"><input id=book-search-input type=text placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/>⬅️ Back to top</a></li></ul><ul><li><a>Specifications</a><ul><li><a href=/specifications/specs/boot_loader_specification/>UAPI.1 Boot Loader Specification</a></li><li><a href=/specifications/specs/discoverable_partitions_specification/>UAPI.2 Discoverable Partitions Specification</a></li><li><a href=/specifications/specs/discoverable_disk_image/>UAPI.3 Discoverable Disk Images</a></li><li><a href=/specifications/specs/extension_image/>UAPI.4 Extension Images</a></li><li><a href=/specifications/specs/unified_kernel_image/>UAPI.5 Unified Kernel Images</a></li><li><a href=/specifications/specs/configuration_files_specification/>UAPI.6 Configuration Files Specification</a></li><li><a href=/specifications/specs/linux_tpm_pcr_registry/>UAPI.7 Linux TPM PCR Registry</a></li><li><a href=/specifications/specs/package_metadata_for_executable_files/>UAPI.8 Package Metadata for Executable Files</a></li><li><a href=/specifications/specs/linux_file_system_hierarchy/>UAPI.9 Linux File System Hierarchy</a></li><li><a href=/specifications/specs/version_format_specification/ class=active>UAPI.10 Version Format Specification</a></li><li><a href=/specifications/specs/file_hierarchy_for_the_verification_of_os_artifacts/>UAPI.11 File Hierarchy for the Verification of OS Artifacts (VOA)</a></li><li><a href=/specifications/specs/elf_dlopen_metadata/>UAPI.12 dlopen() Metadata for ELF Files</a></li><li><a href=/specifications/specs/vmclock/>UAPI.13 VMClock</a></li><li><a href=/specifications/specs/vmgenid/>UAPI.14 VMGenID</a></li><li><a href=/specifications/specs/osc_context/>UAPI.15 OSC 3008: Hierarchical Context Signalling</a></li></ul></li></ul><ul><li><a href=https://github.com/uapi-group/specifications target=_blank rel=noopener>Collaborate on Github</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/specifications/icons/menu.svg class=book-icon alt=Menu></label><h3>UAPI.10 Version Format Specification</h3><label for=toc-control><img src=/specifications/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><a href=#version-format>Version Format</a></li><li><a href=#version-comparison>Version Comparison</a></li><li><a href=#comparison-with-other-specifications>Comparison with Other Specifications</a></li><li><a href=#examples>Examples</a></li><li><a href=#notes>Notes</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=uapi10-version-format-specification>UAPI.10 Version Format Specification<a class=anchor href=#uapi10-version-format-specification>#</a></h1><table><thead><tr><th>Version</th><th>Changes</th></tr></thead><tbody><tr><td>1.0</td><td>Initial Release</td></tr></tbody></table><p>This specification defines the format of version strings and their ordering.
Various documents that are part of the <a href=https://uapi-group.org/specifications>uapi-group specification suite</a>,
as well as other projects like <a href=https://systemd.io>systemd</a>,
rely on this specification to have
a sort order for strings that include version components,
and use it for various purposes,
such as choosing the default boot entry in the <a href=/specifications/specs/boot_loader_specification/>Boot Loader Specification</a>.</p><h2 id=version-format>Version Format<a class=anchor href=#version-format>#</a></h2><p>The version string is a sequence of zero or more characters.</p><p>The following characters have special meaning:</p><ul><li>ASCII digits (<code>0-9</code>) form numerical components.</li><li>ASCII letters (<code>a-z</code>, <code>A-Z</code>) form alphabetical components.</li><li>Dot (<code>.</code>) separates parts of a component.</li><li>Minus (<code>-</code>) separates major parts of the version string.</li><li>Tilde (<code>~</code>) starts a suffix that always sorts lower.</li><li>Caret (<code>^</code>) starts a suffix that always sorts higher.</li></ul><p>Other characters are treated as separators.
This includes plus (<code>+</code>) and underscore (<code>_</code>) and other printable or non-printable characters.
The underscore MAY be used.
The plus SHOULD NOT be used, to avoid confusion with SEMVER which attaches a special meaning to it.
Other characters MUST NOT be used in a version string.</p><p>Note that in some contexts (for example <a href=/specifications/specs/discoverable_disk_image/>the DDI specification</a> and DEB
package file names), the underscore is used as a separator and cannot be used freely in the version
string.</p><h2 id=version-comparison>Version Comparison<a class=anchor href=#version-comparison>#</a></h2><p>The following method should be used to compare version strings. The algorithm
is based on rpm&rsquo;s <code>rpmvercmp()</code>, but not identical.</p><p>Both strings are compared from the beginning until the end, or until the
strings are found to compare as different. In a loop:</p><ol><li>Any characters which are outside of the set of listed above (<code>a-z</code>, <code>A-Z</code>, <code>0-9</code>, <code>-</code>, <code>.</code>, <code>~</code>, <code>^</code>)
are skipped in both strings. In particular, this means that non-ASCII characters
that are Unicode digits or letters are skipped too.</li><li>If the remaining part of one of strings starts with <code>~</code>:
if other remaining part does not start with <code>~</code>,
the string with <code>~</code> compares lower. Otherwise, both tilde characters are skipped.</li><li>If one of the strings has ended: if the other string hasn&rsquo;t, the string that
has remaining characters compares higher. Otherwise, the strings compare
equal.</li><li>If the remaining part of one of strings starts with <code>-</code>:
if the other remaining part does not start with <code>-</code>,
the string with <code>-</code> compares lower. Otherwise, both minus characters are skipped.</li><li>If the remaining part of one of strings starts with <code>^</code>:
if the other remaining part does not start with <code>^</code>,
the string with <code>^</code> compares lower. Otherwise, both caret characters are skipped.</li><li>If the remaining part of one of strings starts with <code>.</code>:
if the other remaining part does not start with <code>.</code>,
the string with <code>.</code> compares lower. Otherwise, both dot characters are skipped.</li><li>If either of the remaining parts starts with a digit: numerical prefixes are
compared numerically. Any leading zeroes are skipped.
The numerical prefixes (until the first non-digit character) are evaluated as numbers.
If one of the prefixes is empty, it evaluates as 0.
If the numbers are different, the string with the bigger number compares higher.
Otherwise, the comparison continues at the following characters at point 1.</li><li>Leading alphabetical prefixes are compared alphabetically.
The substrings are compared letter-by-letter.
If both letters are the same, the comparison continues with the next letter.
All capital letters compare lower than lower-case letters (<code>B &lt; a</code>).
When the end of one substring has been reached (a non-letter character or the end
of the whole string), if the other substring has remaining letters, it compares higher.
Otherwise, the comparison continues at the following characters at point 1.</li></ol><h2 id=comparison-with-other-specifications>Comparison with Other Specifications<a class=anchor href=#comparison-with-other-specifications>#</a></h2><p>Other specifications exist to mandate version formats:</p><ul><li><a href=https://docs.fedoraproject.org/en-US/packaging-guidelines/Versioning/>RPM Packaging Guidelines</a></li><li><a href=https://www.debian.org/doc/debian-policy/ch-controlfields.html#version>Debian Policy</a></li><li><a href=https://semver.org/>Semantic Versioning</a></li></ul><p>All of these, including the present document, share some commonalities but are also
incompatible in some ways, as they all evolved in different environments. The main
differences are as follows.</p><ul><li>to separate components DEB uses <code>_</code>, RPM uses <code>-</code> with positional logic (it assumes different meaning in different positions), and SemVer does not specify anything as it is concerned only with the version part of the string</li><li>to identify a pre-release suffix RPM and DEB use <code>~</code> and SemVer uses <code>-</code></li><li>to identify a rebuild suffix DEB uses <code>+</code>, SemVer uses <code>.</code>, and RPM increases the <code>release</code> part of the version</li><li>to identify an epoch prefix DEB and RPM use <code>:</code>, and SemVer does not specify anything</li></ul><h2 id=examples>Examples<a class=anchor href=#examples>#</a></h2><p>Examples (with &rsquo;&rsquo; meaning the empty string):</p><ul><li><code>11 == 11</code></li><li><code>systemd-123 == systemd-123</code></li><li><code>bar-123 &lt; foo-123</code></li><li><code>123a > 123</code></li><li><code>123.a > 123</code></li><li><code>123.a &lt; 123.b</code></li><li><code>123a > 123.a</code></li><li><code>11α == 11β</code></li><li><code>B &lt; a</code></li><li>&rsquo;&rsquo; &lt; <code>0</code></li><li><code>0.</code> > <code>0</code></li><li><code>0.0</code> > <code>0</code></li><li><code>0</code> > <code>~</code></li><li>&rsquo;&rsquo; > <code>~</code></li><li><code>1_</code> == <code>1</code></li><li><code>_1</code> == <code>1</code></li><li><code>1_</code> &lt; <code>1.2</code></li><li><code>1_2_3</code> > <code>1.3.3</code></li><li><code>1+</code> == <code>1</code></li><li><code>+1</code> == <code>1</code></li><li><code>1+</code> &lt; <code>1.2</code></li><li><code>1+2+3</code> > <code>1.3.3</code></li></ul><p>Note how in the <code>1_2_3</code> > <code>1.3.3</code> and <code>1+2+3</code> > <code>1.3.3</code> cases, the underscore and plus characters act as
separators between components, so we first compare <code>1</code> with <code>1.3.3</code> as numerical version strings, and
<code>1</code> &lt; <code>1.3.3</code>. The remainder of the first string is not used in the comparison.</p><ul><li><code>122.1</code> &lt; <code>123~rc1-1</code> &lt; <code>123</code> &lt; <code>123-a</code> &lt; <code>123-a.1</code> &lt; <code>123-1</code> &lt; <code>123-1.1</code> &lt; <code>123^post1</code> &lt; <code>123.a-1</code> &lt; <code>123.1-1</code> &lt; <code>123a-1</code> &lt; <code>124-1</code></li></ul><p>In the above example each entry compares smaller than every entry to its right and equal only to itself,
conversely each entry compares larger to every entry to its left and compares unequal to all except itself.</p><h2 id=notes>Notes<a class=anchor href=#notes>#</a></h2><p><a href=https://www.freedesktop.org/software/systemd/man/systemd-analyze.html>systemd-analyze</a>
implements this version comparison algorithm as</p><pre tabindex=0><code>systemd-analyze compare-versions &lt;version-a&gt; &lt;version-b&gt;</code></pre></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div><a class="flex align-center" href=https://github.com/uapi-group/specifications/edit/main/specs/version_format_specification.md target=_blank rel="noopener edit"><img src=/specifications/icons/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><div class="flex flex-wrap justify-between"><span><a href=/specifications/specs/linux_file_system_hierarchy/ class="flex align-center"><img src=/specifications/icons/backward.svg class=book-icon alt=Backward>
<span>UAPI.9 Linux File System Hierarchy</span>
</a></span><span><a href=/specifications/specs/file_hierarchy_for_the_verification_of_os_artifacts/ class="flex align-center"><span>UAPI.11 File Hierarchy for the Verification of OS Artifacts (VOA)</span>
<img src=/specifications/icons/forward.svg class=book-icon alt=Forward></a></span></div><div class=book-comments></div><div class="book-copyright flex justify-center"><small>UAPI Group Specifications - Licensed under <a href=https://spdx.org/licenses/CC-BY-4.0.html>CC-BY-4.0</a></small></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#version-format>Version Format</a></li><li><a href=#version-comparison>Version Comparison</a></li><li><a href=#comparison-with-other-specifications>Comparison with Other Specifications</a></li><li><a href=#examples>Examples</a></li><li><a href=#notes>Notes</a></li></ul></nav></div></aside></main></body></html>